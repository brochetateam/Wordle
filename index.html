<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wordle en Espa√±ol - Little Bug Games</title>

  <!-- PWA -->
  <meta name="theme-color" content="#ffebf4" id="meta-theme-color">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Staatliches&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  
  <style>
    /* ====== Estilos Principales del Template Little Bug ====== */

    /* --- Reset y Base --- */
    *, *::before, *::after { box-sizing: border-box; }
    :root {
      /* Variables base para layout */
      --radius: 16px;
      --shadow-elev: 0 10px 30px rgba(0,0,0,0.18);
    }

    html, body { height: 100%; margin: 0; }
    body {
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.35;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background 400ms ease, color 300ms ease;
    }
    h1, h2, h3, .display {
      font-family: 'Staatliches', 'Poppins', sans-serif;
      letter-spacing: .5px;
      margin-top: 0;
    }
    a { color: inherit; text-decoration: none; }

    /* --- Temas --- */
    /* Tema Beautiful (por defecto) */
    body[data-theme="beautiful"] {
      --bg: radial-gradient(1200px 800px at 10% -10%, #ffe3f1 0%, #fff6fb 30%, #fff 70%) fixed,
            linear-gradient(180deg, #fff 0%, #ffe9f6 100%) fixed;
      --text: #2b1b2d;
      --muted: #8d4e84;
      --surface: rgba(255, 255, 255, 0.78);
      --border: rgba(255, 20, 130, 0.18);
      --accent: #ff3c91;
      --accent-2: #ff8ac9;
      --ring-track: rgba(255, 60, 145, 0.20);
      --glow: rgba(255, 60, 145, 0.35);
      --btn-text: #fff;
      --btn-bg: #ff3c91;
      --btn-bg-2: #ff5aa4;
      --header-grad: linear-gradient(90deg, #ff3c91, #ff8ac9);
      --chip: rgba(255, 60, 145, 0.12);
      --chip-border: rgba(255, 60, 145, 0.25);
    }

    /* Tema Warrior */
    body[data-theme="warrior"] {
      --bg: radial-gradient(1000px 600px at 80% -20%, #1a0006 0%, #0b0506 45%, #0a0a0c 100%) fixed,
            linear-gradient(180deg, #0a0a0c 0%, #0f0f12 100%) fixed;
      --text: #f7f7f9;
      --muted: #ffb0b4;
      --surface: rgba(34, 34, 40, 0.92);
      --border: rgba(255, 120, 130, 0.45);
      --accent: #ff3a4a;
      --accent-2: #ff7a85;
      --ring-track: rgba(255, 95, 105, 0.38);
      --glow: rgba(255, 60, 70, 0.48);
      --btn-text: #fff;
      --btn-bg: #ff3a4a;
      --btn-bg-2: #ff6b76;
      --header-grad: linear-gradient(90deg, #ff3a4a, #ff8b94);
      --chip: rgba(255, 58, 74, 0.16);
      --chip-border: rgba(255, 120, 130, 0.45);
    }

    /* --- Reducci√≥n de Movimiento --- */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* --- Layout --- */
    .container { max-width: 980px; margin: 0 auto; padding: 16px; }
    header.app { position: relative; padding: 16px 0 8px; }

    .app-bar {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 12px;
      position: relative;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .brand h1 {
      font-size: clamp(22px, 4.2vw, 32px);
      line-height: 1;
      margin: 0;
      background: var(--header-grad);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 2px 30px var(--glow);
    }
    .product-badge {
      margin-left: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: 1px;
      background: linear-gradient(180deg, var(--btn-bg), var(--btn-bg-2));
      color: #fff;
      font-size: 42px;
      box-shadow: 0 8px 18px -6px var(--glow);
      align-self: flex-start;
    }
    .product-badge.product-mobile { display: none; }
    .sub { font-size: 12px; color: var(--muted); margin-top: 4px; }

    .right-controls { display: flex; align-items: center; gap: 8px; }
    .right-actions-row { display: flex; gap: 8px; align-items: center; }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      padding: 8px 12px;
      background: var(--chip);
      border: 1px solid var(--chip-border);
      color: var(--text);
      backdrop-filter: blur(6px);
    }

    /* --- Botones --- */
    button {
      font-family: inherit; /* Heredar fuente para consistencia */
    }
    .theme-btn, .action-btn {
      border: 1px solid var(--border);
      border-radius: 999px;
      background: var(--surface);
      color: var(--text);
      padding: 8px 12px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: transform 140ms ease, box-shadow 180ms ease, background 240ms ease;
      box-shadow: var(--shadow-elev);
      backdrop-filter: blur(6px);
    }
    .theme-btn:hover, .action-btn:hover { transform: translateY(-1px); }

    .btn {
      appearance: none;
      border: 0;
      border-radius: 12px;
      padding: 12px 14px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      color: var(--btn-text);
      background: linear-gradient(180deg, var(--btn-bg), var(--btn-bg-2));
      box-shadow: 0 10px 20px -6px var(--glow);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: transform 120ms ease, filter 160ms ease, opacity 160ms ease;
      min-height: 44px;
      width: 100%; /* Por defecto, ocupan todo el ancho disponible */
    }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }
    .btn:hover:not(:disabled) { transform: translateY(-1px); filter: brightness(1.04); }
    .btn.secondary {
      background: rgba(255,255,255,0.06);
      color: var(--text);
      border: 1px solid var(--border);
      box-shadow: none;
    }
    .btn.small { padding: 8px 10px; font-size: 13px; min-height: 36px; }

    /* --- Decoraci√≥n de Fondo --- */
    .bg-decor {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }
    .bg-decor span {
      position: absolute;
      bottom: -8vh;
      opacity: 0.75;
      filter: blur(0.3px);
      animation: rise var(--dur) linear infinite;
      transform: translateY(0) scale(var(--s, 1));
    }
    @keyframes rise {
      from { transform: translateY(0) scale(var(--s, 1)); opacity: 0; }
      10% { opacity: 0.65; }
      to { transform: translateY(-120vh) scale(var(--s, 1)); opacity: 0; }
    }

    /* --- Animaciones de Entrada --- */
    .intro { opacity: 0; transform: translateY(16px); animation: fadeUp .6s ease forwards; }
    .intro-delayed { opacity: 0; transform: translateY(16px); animation: fadeUp .8s .1s ease forwards; }
    @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

    /* --- Tarjeta Principal (Card) --- */
    .card {
      position: relative;
      margin: 16px auto 20px;
      padding: clamp(14px, 3.5vw, 22px);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow-elev);
      z-index: 1;
      backdrop-filter: blur(8px);
    }
    .mode-line {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 12px;
    }
    .mode-title {
      font-size: clamp(18px, 4.3vw, 28px);
      margin: 0;
      text-align: left;
    }
    .mode-sub {
      color: var(--muted);
      font-size: 14px;
      margin-top: 4px;
      text-align: left;
    }

    /* --- √Årea de Contenido --- */
    .content-area {
      margin-top: 20px;
      /* Estilos base para el contenido */
    }

    /* --- Modales --- */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.50);
      display: grid;
      place-items: center;
      visibility: hidden;
      opacity: 0;
      transition: opacity 220ms ease, visibility 220ms ease;
      z-index: 10;
      padding: 18px;
      backdrop-filter: blur(2px);
    }
    .modal.active { visibility: visible; opacity: 1; }
    .modal-card {
      width: min(560px, 96vw);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 16px;
      box-shadow: var(--shadow-elev);
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal-card h3 {
      font-size: 22px;
      margin: 8px 0 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--header-grad);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .modal-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 12px;
    }
    .grid { display: grid; gap: 10px; }
    .grid.two { grid-template-columns: 1fr 1fr; }
    @media (max-width: 560px) { .grid.two { grid-template-columns: 1fr; } }

    /* --- Logo de la Mariquita --- */
    .bug-hero {
      width: clamp(44px, 9vw, 74px);
      height: clamp(44px, 9vw, 74px);
      display: grid;
      place-items: center;
      border-radius: 14px;
      background: var(--surface);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-elev);
      backdrop-filter: blur(6px);
      overflow: hidden;
    }
    .bug-hero svg {
      width: 100%;
      height: 100%;
      transform: translateY(1px);
      animation: bob 3s ease-in-out infinite;
    }
    @keyframes bob {
      0%, 100% { transform: translateY(1px); }
      50% { transform: translateY(-2px); }
    }
    .bug-hero [data-variant="beautiful"] { display: none; }
    .bug-hero [data-variant="warrior"] { display: none; }
    body[data-theme="beautiful"] .bug-hero [data-variant="beautiful"] { display: block; }
    body[data-theme="warrior"] .bug-hero [data-variant="warrior"] { display: block; }

    /* --- Toast (Notificaciones) --- */
    .toast {
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--surface);
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 999px;
      box-shadow: var(--shadow-elev);
      opacity: 0;
      visibility: hidden;
      transition: 200ms ease;
      z-index: 15;
      font-size: 14px;
      font-weight: 600;
    }
    .toast.show { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }

    /* --- Footer --- */
    footer {
      padding: 12px 0 20px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }

    /* --- Estilos espec√≠ficos del Wordle --- */
    .wordle-grid {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      gap: 8px;
      max-width: 350px;
      margin: 20px auto;
    }

    .wordle-row {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
    }

    .wordle-cell {
      width: 60px;
      height: 60px;
      border: 2px solid var(--border);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      background: var(--surface);
      transition: all 0.3s ease;
    }

    .wordle-cell.filled {
      border-color: var(--accent);
      color: var(--text);
    }

    .wordle-cell.correct {
      background: #6aaa64;
      color: white;
      border-color: #6aaa64;
    }

    .wordle-cell.present {
      background: #c9b458;
      color: white;
      border-color: #c9b458;
    }

    .wordle-cell.absent {
      background: #787c7e;
      color: white;
      border-color: #787c7e;
    }

    .keyboard {
      max-width: 500px;
      margin: 20px auto;
    }

    .keyboard-row {
      display: flex;
      justify-content: center;
      gap: 4px;
      margin: 4px 0;
    }

    .key {
      padding: 10px 8px;
      min-width: 35px;
      border: none;
      border-radius: 4px;
      background: var(--surface);
      color: var(--text);
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1px solid var(--border);
    }

    .key:hover {
      transform: translateY(-1px);
      filter: brightness(1.1);
    }

    .key.wide {
      min-width: 60px;
      font-size: 12px;
    }

    .key.correct {
      background: #6aaa64;
      color: white;
    }

    .key.present {
      background: #c9b458;
      color: white;
    }

    .key.absent {
      background: #787c7e;
      color: white;
    }

    .game-stats {
      text-align: center;
      margin: 20px 0;
    }

    .stats-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 10px 0;
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: bold;
      color: var(--accent);
    }

    .stat-label {
      font-size: 12px;
      color: var(--muted);
    }

    /* --- Estilos para M√≥vil --- */
    @media (max-width: 640px) {
      .brand { align-items: flex-start; }
      .brand h1 { font-size: clamp(18px, 6vw, 22px); }
      .product-badge { display: none; }
      .product-badge.product-mobile { display: inline-block; font-size: 30px; padding: 6px 16px; margin: 8px auto 0; background: linear-gradient(180deg, var(--btn-bg), var(--btn-bg-2)); color: #fff; box-shadow: 0 8px 18px -6px var(--glow); }

      .right-controls { position: absolute; top: 6px; right: 10px; flex-direction: column; align-items: flex-end; gap: 6px; }
      .right-actions-row { gap: 6px; }
      .theme-btn, .action-btn { width: 44px; height: 44px; padding: 0; justify-content: center; border-radius: 50%; }
      #theme-label, .btn-label { display: none; }

      .mode-line { grid-template-columns: 1fr; justify-items: center; }
      .mode-title, .mode-sub { text-align: center; }
      
      #fab-action { display: grid; position: absolute; top: 6px; right: 6px; }

      .content-area { font-size: clamp(14px, 3.5vw, 18px); }

      .wordle-cell {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }

      .key {
        padding: 8px 6px;
        min-width: 30px;
        font-size: 14px;
      }

      .key.wide {
        min-width: 50px;
        font-size: 10px;
      }
    }
  </style>

</head>

<body data-theme="beautiful">
  <!-- Decoraci√≥n de fondo animada -->
  <div class="bg-decor" aria-hidden="true" id="decor"></div>

  <!-- Header de la aplicaci√≥n -->
  <header class="app intro">
    <div class="container app-bar">
      <div class="brand">
        <!-- Logo de Little Bug: Mariquita -->
        <div class="bug-hero" title="Little Bug Games" id="bugHero">
          <!-- Beautiful Variant -->
          <svg viewBox="0 0 100 100" data-variant="beautiful" aria-hidden="true">
            <defs>
              <linearGradient id="bodyGradBeautiful" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#ff8ac9"/>
                <stop offset="100%" stop-color="#ff3c91"/>
              </linearGradient>
              <radialGradient id="spotGrad" cx="0.5" cy="0.3" r="0.4">
                <stop offset="0%" stop-color="#ff1a6b"/>
                <stop offset="100%" stop-color="#d1477a"/>
              </radialGradient>
            </defs>
            <!-- Cuerpo de la mariquita -->
            <ellipse cx="50" cy="55" rx="28" ry="35" fill="url(#bodyGradBeautiful)" stroke="#ff2d7a" stroke-width="2"/>
            <!-- Cabeza -->
            <circle cx="50" cy="25" r="18" fill="#333" stroke="#222" stroke-width="1"/>
            <!-- Antenas -->
            <line x1="42" y1="15" x2="38" y2="8" stroke="#333" stroke-width="3" stroke-linecap="round"/>
            <line x1="58" y1="15" x2="62" y2="8" stroke="#333" stroke-width="3" stroke-linecap="round"/>
            <circle cx="38" cy="8" r="3" fill="#ff3c91"/>
            <circle cx="62" cy="8" r="3" fill="#ff3c91"/>
            <!-- Ojos -->
            <circle cx="44" cy="22" r="4" fill="#fff"/>
            <circle cx="56" cy="22" r="4" fill="#fff"/>
            <circle cx="44" cy="22" r="2" fill="#333"/>
            <circle cx="56" cy="22" r="2" fill="#333"/>
            <!-- Sonrisa -->
            <path d="M46,30 Q50,34 54,30" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/>
            <!-- Manchas -->
            <circle cx="42" cy="45" r="5" fill="url(#spotGrad)"/>
            <circle cx="58" cy="45" r="5" fill="url(#spotGrad)"/>
            <circle cx="35" cy="65" r="4" fill="url(#spotGrad)"/>
            <circle cx="65" cy="65" r="4" fill="url(#spotGrad)"/>
            <circle cx="50" cy="70" r="3" fill="url(#spotGrad)"/>
            <!-- L√≠nea central -->
            <line x1="50" y1="30" x2="50" y2="85" stroke="#ff2d7a" stroke-width="2"/>
            <!-- Patitas -->
            <ellipse cx="30" cy="50" rx="3" ry="8" fill="#333" transform="rotate(-20 30 50)"/>
            <ellipse cx="70" cy="50" rx="3" ry="8" fill="#333" transform="rotate(20 70 50)"/>
            <ellipse cx="28" cy="70" rx="3" ry="8" fill="#333" transform="rotate(-10 28 70)"/>
            <ellipse cx="72" cy="70" rx="3" ry="8" fill="#333" transform="rotate(10 72 70)"/>
          </svg>
          <!-- Warrior Variant -->
          <svg viewBox="0 0 100 100" data-variant="warrior" aria-hidden="true">
            <defs>
              <linearGradient id="bodyGradWarrior" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#ff6b6b"/>
                <stop offset="100%" stop-color="#ff2438"/>
              </linearGradient>
              <radialGradient id="spotGradWarrior" cx="0.5" cy="0.3" r="0.4">
                <stop offset="0%" stop-color="#990000"/>
                <stop offset="100%" stop-color="#660000"/>
              </radialGradient>
            </defs>
            <!-- Cuerpo de la mariquita malvada -->
            <ellipse cx="50" cy="55" rx="28" ry="35" fill="url(#bodyGradWarrior)" stroke="#cc0000" stroke-width="2"/>
            <!-- Cabeza con cuernitos -->
            <circle cx="50" cy="25" r="18" fill="#1a0000" stroke="#660000" stroke-width="1"/>
            <!-- Cuernitos diab√≥licos -->
            <path d="M40,12 L38,5 L42,8 Z" fill="#ff2438"/>
            <path d="M60,12 L62,5 L58,8 Z" fill="#ff2438"/>
            <!-- Antenas -->
            <line x1="42" y1="15" x2="38" y2="8" stroke="#660000" stroke-width="3" stroke-linecap="round"/>
            <line x1="58" y1="15" x2="62" y2="8" stroke="#660000" stroke-width="3" stroke-linecap="round"/>
            <circle cx="38" cy="8" r="3" fill="#ff2438"/>
            <circle cx="62" cy="8" r="3" fill="#ff2438"/>
            <!-- Ojos malvados -->
            <circle cx="44" cy="22" r="4" fill="#ff0000"/>
            <circle cx="56" cy="22" r="4" fill="#ff0000"/>
            <circle cx="44" cy="22" r="2" fill="#000"/>
            <circle cx="56" cy="22" r="2" fill="#000"/>
            <!-- Sonrisa malvada -->
            <path d="M46,30 Q50,26 54,30" stroke="#ff0000" stroke-width="2" fill="none" stroke-linecap="round"/>
            <!-- Dientes -->
            <polygon points="48,28 49,32 50,28" fill="#fff"/>
            <polygon points="51,28 52,32 53,28" fill="#fff"/>
            <!-- Manchas de guerra -->
            <circle cx="42" cy="45" r="5" fill="url(#spotGradWarrior)"/>
            <circle cx="58" cy="45" r="5" fill="url(#spotGradWarrior)"/>
            <circle cx="35" cy="65" r="4" fill="url(#spotGradWarrior)"/>
            <circle cx="65" cy="65" r="4" fill="url(#spotGradWarrior)"/>
            <circle cx="50" cy="70" r="3" fill="url(#spotGradWarrior)"/>
            <!-- L√≠nea central con pinchos -->
            <path d="M50,30 L50,85 M45,40 L55,40 M45,55 L55,55 M45,75 L55,75" stroke="#cc0000" stroke-width="2"/>
            <!-- Patitas de guerra -->
            <ellipse cx="30" cy="50" rx="3" ry="8" fill="#1a0000" transform="rotate(-20 30 50)"/>
            <ellipse cx="70" cy="50" rx="3" ry="8" fill="#1a0000" transform="rotate(20 70 50)"/>
            <ellipse cx="28" cy="70" rx="3" ry="8" fill="#1a0000" transform="rotate(-10 28 70)"/>
            <ellipse cx="72" cy="70" rx="3" ry="8" fill="#1a0000" transform="rotate(10 72 70)"/>
          </svg>
        </div>

        <div>
          <div style="display:flex; align-items:flex-start; gap:8px; flex-wrap:wrap;">
            <h1 id="app-title">Little Bug</h1>
            <div class="product-badge" aria-label="Juego" id="product-badge-main">WORDLE</div>
          </div>
          <div class="sub" id="app-subtitle">Adivina la palabra en espa√±ol</div>
          <div class="product-badge product-mobile" id="product-badge-mobile">WORDLE</div>
        </div>
      </div>

      <!-- Controles del Header -->
      <div class="right-controls">
        <div class="right-actions-row">
          <button class="theme-btn" id="theme-btn" aria-label="Cambiar tema">
            <i class="fa-solid fa-wand-magic-sparkles"></i>
            <span id="theme-label">Beautiful</span>
          </button>
          <button class="action-btn" id="stats-btn" aria-label="Estad√≠sticas">
            <i class="fa-solid fa-chart-bar"></i>
            <span class="btn-label">Stats</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Contenido Principal -->
  <main class="container intro-delayed">
    <section class="card">
      <!-- L√≠nea de modo/t√≠tulo principal de la secci√≥n -->
      <div class="mode-line">
        <div>
          <h2 class="mode-title" id="section-title">Wordle en Espa√±ol</h2>
          <div class="mode-sub" id="section-subtitle">6 intentos para adivinar la palabra de 5 letras</div>
        </div>
        <button class="theme-btn" id="new-game-btn" aria-label="Nueva partida">
          <i class="fa-solid fa-refresh"></i>
          <span class="btn-label">Nueva</span>
        </button>
      </div>

      <!-- √Årea de contenido principal - Grid del Wordle -->
      <div class="content-area" id="main-content">
        <div class="wordle-grid" id="wordle-grid">
          <!-- Las filas se generar√°n din√°micamente -->
        </div>

        <!-- Teclado virtual -->
        <div class="keyboard" id="keyboard">
          <div class="keyboard-row">
            <button class="key" data-key="q">Q</button>
            <button class="key" data-key="w">W</button>
            <button class="key" data-key="e">E</button>
            <button class="key" data-key="r">R</button>
            <button class="key" data-key="t">T</button>
            <button class="key" data-key="y">Y</button>
            <button class="key" data-key="u">U</button>
            <button class="key" data-key="i">I</button>
            <button class="key" data-key="o">O</button>
            <button class="key" data-key="p">P</button>
          </div>
          <div class="keyboard-row">
            <button class="key" data-key="a">A</button>
            <button class="key" data-key="s">S</button>
            <button class="key" data-key="d">D</button>
            <button class="key" data-key="f">F</button>
            <button class="key" data-key="g">G</button>
            <button class="key" data-key="h">H</button>
            <button class="key" data-key="j">J</button>
            <button class="key" data-key="k">K</button>
            <button class="key" data-key="l">L</button>
            <button class="key" data-key="√±">√ë</button>
          </div>
          <div class="keyboard-row">
            <button class="key wide" id="enter-key">ENTER</button>
            <button class="key" data-key="z">Z</button>
            <button class="key" data-key="x">X</button>
            <button class="key" data-key="c">C</button>
            <button class="key" data-key="v">V</button>
            <button class="key" data-key="b">B</button>
            <button class="key" data-key="n">N</button>
            <button class="key" data-key="m">M</button>
            <button class="key wide" id="backspace-key"><i class="fa-solid fa-delete-left"></i></button>
          </div>
        </div>

        <!-- Mensaje del juego -->
        <div id="game-message" style="text-align: center; margin: 20px 0; font-weight: bold; color: var(--accent);"></div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div id="footer-text">¬°Hola mundo! Este es Wordle en espa√±ol<br>Made with <span style="color:#ff3c91;">‚ù§</span> & <i class="fa-solid fa-bug" style="color:#ff3c91;"></i><br>¬© <span id="current-year">2025</span> Little Bug Games</div>
  </footer>

  <!-- Modal de Estad√≠sticas -->
  <div id="modal-stats" class="modal" role="dialog" aria-modal="true" aria-labelledby="stats-title">
    <div class="modal-card">
      <h3 id="stats-title"><i class="fa-solid fa-chart-bar"></i> Estad√≠sticas</h3>
      <div class="game-stats">
        <div class="stats-row">
          <div class="stat">
            <div class="stat-value" id="games-played">0</div>
            <div class="stat-label">Jugadas</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="win-percentage">0</div>
            <div class="stat-label">% Ganadas</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="current-streak">0</div>
            <div class="stat-label">Racha</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="max-streak">0</div>
            <div class="stat-label">Mejor Racha</div>
          </div>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn modal-close-btn"><i class="fa-solid fa-xmark"></i> <span class="btn-label">Cerrar</span></button>
      </div>
    </div>
  </div>

  <script>
    // ====== L√≥gica Principal del Template Little Bug ======

    // ========== Elementos del DOM ==========
    const themeBtn = document.getElementById('theme-btn');
    const themeLabel = document.getElementById('theme-label');
    const metaThemeColor = document.getElementById('meta-theme-color');
    const decor = document.getElementById('decor');
    const bugHero = document.getElementById('bugHero');
    const appTitle = document.getElementById('app-title');
    const productBadgeMain = document.getElementById('product-badge-main');
    const productBadgeMobile = document.getElementById('product-badge-mobile');
    const sectionTitle = document.getElementById('section-title');
    const sectionSubtitle = document.getElementById('section-subtitle');
    const footerText = document.getElementById('footer-text');
    const currentYearElement = document.getElementById('current-year');
    const statsBtn = document.getElementById('stats-btn');
    const newGameBtn = document.getElementById('new-game-btn');
    const modalStats = document.getElementById('modal-stats');

    // ========== Estado del Template ==========
    let currentTheme = 'beautiful'; // Tema por defecto

    // ========== Configuraci√≥n y Datos ==========
    const themes = {
        beautiful: {
            name: 'Beautiful',
            color: '#ffebf4'
        },
        warrior: {
            name: 'Warrior',
            color: '#0f0f12'
        }
    };

    // ========== Utilidades ==========
    function setDocTitle(title, subtitle = '') {
        let fullTitle = title;
        if (subtitle) {
            fullTitle += ` ¬∑ ${subtitle}`;
        }
        fullTitle += ' ¬∑ Little Bug Games';
        document.title = fullTitle;
    }

    function showToast(msg, duration = 2000) {
        let toast = document.getElementById('bw-toast');
        if (!toast) {
            toast = document.createElement('div');
            toast.id = 'bw-toast';
            toast.className = 'toast';
            document.body.appendChild(toast);
        }
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), duration);
    }

    function spawnDecor() {
        if (!decor) return;
        decor.innerHTML = '';
        const isBeautiful = document.body.getAttribute('data-theme') === 'beautiful';
        const n = isBeautiful ? 14 : 18;
        for (let i = 0; i < n; i++) {
            const s = document.createElement('span');
            s.style.left = (Math.random() * 100) + '%';
            s.style.setProperty('--dur', (12 + Math.random() * 16) + 's');
            s.style.setProperty('--s', (0.6 + Math.random() * 1.2).toFixed(2));
            s.style.animationDelay = (-Math.random() * 10) + 's';
            // Usar emojis de mariquitas y bichos
            const icons = isBeautiful ? ['üêû', 'ü¶ã', 'üå∏', 'üíñ'] : ['üêû', 'üï∑Ô∏è', 'ü¶Ç', '‚ö°'];
            s.textContent = icons[Math.floor(Math.random() * icons.length)];
            decor.appendChild(s);
        }
    }

    function setTheme(theme) {
        if (!themes[theme]) {
            console.warn(`Tema desconocido: ${theme}. Usando 'beautiful' por defecto.`);
            theme = 'beautiful';
        }
        document.body.setAttribute('data-theme', theme);
        currentTheme = theme;
        const themeData = themes[theme];
        if (themeLabel) themeLabel.textContent = themeData.name;
        if (metaThemeColor) metaThemeColor.setAttribute('content', themeData.color);
        spawnDecor();
        window.dispatchEvent(new CustomEvent('bw-theme-change', { detail: theme }));
    }

    function toggleTheme() {
        const nextTheme = currentTheme === 'beautiful' ? 'warrior' : 'beautiful';
        setTheme(nextTheme);
        saveTemplateState();
    }

    function saveTemplateState() {
        try {
            localStorage.setItem('LB_template_theme', currentTheme);
        } catch (e) {
            console.warn("No se pudo guardar el estado del template en localStorage.", e);
        }
    }

    function loadTemplateState() {
        try {
            const savedTheme = localStorage.getItem('LB_template_theme');
            if (savedTheme && themes[savedTheme]) {
                setTheme(savedTheme);
            }
        } catch (e) {
            console.warn("No se pudo cargar el estado del template desde localStorage.", e);
        }
    }

    function sizeBugToTitle() {
        const h1 = appTitle;
        if (!h1 || !bugHero) return;
        if (window.innerWidth <= 640) {
            const fs = parseFloat(getComputedStyle(h1).fontSize);
            const size = Math.min(fs * 2.2, 132);
            bugHero.style.width = size + 'px';
            bugHero.style.height = size + 'px';
        } else {
            bugHero.style.width = '';
            bugHero.style.height = '';
        }
    }

    // ========== Inicializaci√≥n del Template ==========
    function initTemplate() {
        loadTemplateState();
        spawnDecor();
        if (currentYearElement) {
            currentYearElement.textContent = new Date().getFullYear();
        }
        if (themeBtn) themeBtn.addEventListener('click', toggleTheme);
        window.addEventListener('resize', sizeBugToTitle);
        sizeBugToTitle();
        console.log("Template Little Bug inicializado.");
    }

    // ========== L√≥gica del Wordle ==========
    
    // Lista de palabras de 5 letras en espa√±ol
    const WORDS = [
        'ABEJA', 'AGUA', 'AMISTAD', 'AMOR', 'ANGEL', 'ARENA', 'ARBOL', 'AZUL', 'BAILE', 'BELLA',
        'BLANCO', 'BUENO', 'CAMPO', 'CANTO', 'CARTA', 'CASA', 'CIELO', 'COLOR', 'CORAZON', 'DULCE',
        'FELIZ', 'FLOR', 'FUEGO', 'GATO', 'GRANDE', 'HERMOSO', 'HOJA', 'JARDIN', 'JUEGO', 'LARGO',
        'LIBRO', 'LINDO', 'LLUVIA', 'LUNA', 'MADRE', 'MANOS', 'MUNDO', 'MUSICA', 'NI√ëO', 'NOCHE',
        'NUEVO', 'OCEAN', 'PALABRA', 'PAPEL', 'PARQUE', 'PERRO', 'PIANO', 'PLAYA', 'POEMA', 'PRIMA',
        'PUNTO', 'RADIO', 'RATON', 'REINO', 'RISA', 'ROBOT', 'SABIO', 'SALUD', 'SANTO', 'SILLA',
        'SUAVE', 'SUE√ëO', 'TAREA', 'TIERRA', 'TORRE', 'VERSO', 'VERDE', 'VIENTO', 'VISTA', 'ZAPATO'
    ];

    // Estado del juego
    let currentWord = '';
    let currentRow = 0;
    let currentCol = 0;
    let gameOver = false;
    let gameBoard = [];

    // Estad√≠sticas
    let stats = {
        gamesPlayed: 0,
        gamesWon: 0,
        currentStreak: 0,
        maxStreak: 0
    };

    // Inicializar el juego
    function initGame() {
        currentWord = WORDS[Math.floor(Math.random() * WORDS.length)];
        currentRow = 0;
        currentCol = 0;
        gameOver = false;
        gameBoard = Array(6).fill().map(() => Array(5).fill(''));
        
        console.log('Palabra secreta:', currentWord); // Para debug
        
        createGrid();
        loadStats();
        updateStatsDisplay();
        document.getElementById('game-message').textContent = '';
    }

    // Crear el grid del juego
    function createGrid() {
        const grid = document.getElementById('wordle-grid');
        grid.innerHTML = '';
        
        for (let row = 0; row < 6; row++) {
            const rowDiv = document.createElement('div');
            rowDiv.className = 'wordle-row';
            
            for (let col = 0; col < 5; col++) {
                const cell = document.createElement('div');
                cell.className = 'wordle-cell';
                cell.id = `cell-${row}-${col}`;
                rowDiv.appendChild(cell);
            }
            
            grid.appendChild(rowDiv);
        }
    }

    // Manejar entrada de tecla
    function handleKeyPress(key) {
        if (gameOver) return;

        if (key === 'ENTER') {
            if (currentCol === 5) {
                checkWord();
            } else {
                showToast('Palabra incompleta');
            }
        } else if (key === 'BACKSPACE') {
            if (currentCol > 0) {
                currentCol--;
                gameBoard[currentRow][currentCol] = '';
                updateCell(currentRow, currentCol, '');
            }
        } else if (currentCol < 5 && /^[A-Z√ë]$/.test(key)) {
            gameBoard[currentRow][currentCol] = key;
            updateCell(currentRow, currentCol, key);
            currentCol++;
        }
    }

    // Actualizar celda
    function updateCell(row, col, letter) {
        const cell = document.getElementById(`cell-${row}-${col}`);
        cell.textContent = letter;
        cell.classList.toggle('filled', letter !== '');
    }

    // Verificar palabra
    function checkWord() {
        const guess = gameBoard[currentRow].join('');
        const target = currentWord;
        
        // Marcar letras
        const result = Array(5).fill('absent');
        const targetCount = {};
        const guessCount = {};
        
        // Contar letras en la palabra objetivo
        for (let char of target) {
            targetCount[char] = (targetCount[char] || 0) + 1;
        }
        
        // Primera pasada: marcar letras correctas
        for (let i = 0; i < 5; i++) {
            if (guess[i] === target[i]) {
                result[i] = 'correct';
                targetCount[guess[i]]--;
                guessCount[guess[i]] = (guessCount[guess[i]] || 0) + 1;
            }
        }
        
        // Segunda pasada: marcar letras presentes
        for (let i = 0; i < 5; i++) {
            if (result[i] === 'absent' && targetCount[guess[i]] > 0) {
                result[i] = 'present';
                targetCount[guess[i]]--;
            }
        }
        
        // Aplicar colores a las celdas
        for (let i = 0; i < 5; i++) {
            const cell = document.getElementById(`cell-${currentRow}-${i}`);
            cell.classList.add(result[i]);
            updateKeyboard(guess[i], result[i]);
        }
        
        // Verificar si gan√≥
        if (guess === target) {
            gameOver = true;
            document.getElementById('game-message').textContent = '¬°Felicidades! üéâ';
            stats.gamesWon++;
            stats.currentStreak++;
            stats.maxStreak = Math.max(stats.maxStreak, stats.currentStreak);
        } else {
            currentRow++;
            currentCol = 0;
            
            // Verificar si perdi√≥
            if (currentRow >= 6) {
                gameOver = true;
                document.getElementById('game-message').textContent = `La palabra era: ${target}`;
                stats.currentStreak = 0;
            }
        }
        
        if (gameOver) {
            stats.gamesPlayed++;
            saveStats();
            updateStatsDisplay();
        }
    }

    // Actualizar teclado
    function updateKeyboard(letter, status) {
        const key = document.querySelector(`[data-key="${letter.toLowerCase()}"]`);
        if (key && !key.classList.contains('correct')) {
            if (status === 'correct' || (status === 'present' && !key.classList.contains('correct'))) {
                key.classList.remove('absent', 'present');
                key.classList.add(status);
            } else if (status === 'absent' && !key.classList.contains('present') && !key.classList.contains('correct')) {
                key.classList.add(status);
            }
        }
    }

    // Cargar estad√≠sticas
    function loadStats() {
        try {
            const saved = localStorage.getItem('LB_wordle_stats');
            if (saved) {
                stats = { ...stats, ...JSON.parse(saved) };
            }
        } catch (e) {
            console.warn('No se pudieron cargar las estad√≠sticas');
        }
    }

    // Guardar estad√≠sticas
    function saveStats() {
        try {
            localStorage.setItem('LB_wordle_stats', JSON.stringify(stats));
        } catch (e) {
            console.warn('No se pudieron guardar las estad√≠sticas');
        }
    }

    // Actualizar display de estad√≠sticas
    function updateStatsDisplay() {
        document.getElementById('games-played').textContent = stats.gamesPlayed;
        document.getElementById('win-percentage').textContent = 
            stats.gamesPlayed > 0 ? Math.round((stats.gamesWon / stats.gamesPlayed) * 100) : 0;
        document.getElementById('current-streak').textContent = stats.currentStreak;
        document.getElementById('max-streak').textContent = stats.maxStreak;
    }

    // Nueva partida
    function newGame() {
        // Limpiar teclado
        document.querySelectorAll('.key').forEach(key => {
            key.classList.remove('correct', 'present', 'absent');
        });
        initGame();
    }

    // ========== Event Listeners ==========
    
    // Cerrar modales
    document.addEventListener('click', function(e) {
        if (e.target && e.target.classList.contains('modal')) {
            e.target.classList.remove('active');
        }
    });

    document.addEventListener('click', function(e) {
        if (e.target && e.target.classList.contains('modal-close-btn')) {
            const modal = e.target.closest('.modal');
            if (modal) {
                modal.classList.remove('active');
            }
        }
    });

    // Teclado f√≠sico
    document.addEventListener('keydown', function(e) {
        const key = e.key.toUpperCase();
        if (key === 'ENTER' || key === 'BACKSPACE') {
            e.preventDefault();
            handleKeyPress(key);
        } else if (/^[A-Z√ë]$/.test(key)) {
            e.preventDefault();
            handleKeyPress(key);
        }
    });

    // Teclado virtual
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('key')) {
            const key = e.target.getAttribute('data-key');
            if (key) {
                handleKeyPress(key.toUpperCase());
            }
        }
    });

    // Bot√≥n Enter
    document.getElementById('enter-key').addEventListener('click', function() {
        handleKeyPress('ENTER');
    });

    // Bot√≥n Backspace
    document.getElementById('backspace-key').addEventListener('click', function() {
        handleKeyPress('BACKSPACE');
    });

    // Bot√≥n nueva partida
    if (newGameBtn) {
        newGameBtn.addEventListener('click', newGame);
    }

    // Bot√≥n estad√≠sticas
    if (statsBtn) {
        statsBtn.addEventListener('click', function() {
            modalStats.classList.add('active');
        });
    }

    // ========== Inicializaci√≥n ==========
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            initTemplate();
            initGame();
        });
    } else {
        initTemplate();
        initGame();
    }

  </script>
</body>
</html>